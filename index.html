<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>args: args</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">args
   &#160;<span id="projectnumber">6.2.0</span>
   </div>
   <div id="projectbrief">A simple single-header C++11 STL-only argument parser library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">args </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> </p>
<h3><a class="anchor" id="autotoc_md1"></a>
Note that this library is essentially in maintenance mode.  I haven't had the time to work on it or give it the love that it deserves.  I'm not adding new features, but I will fix bugs.  I will also very gladly accept pull requests.</h3>
<p><a href="https://en.wikipedia.org/wiki/C%2B%2B11"><img src="https://img.shields.io/badge/C%2B%2B-11-blue.svg" alt="Cpp Standard" style="pointer-events: none;" class="inline"/></a> <a href="https://travis-ci.org/Taywee/args"><img src="https://travis-ci.org/Taywee/args.svg?branch=master" alt="Travis status" style="pointer-events: none;" class="inline"/></a> <a href="https://ci.appveyor.com/project/Taywee/args"><img src="https://ci.appveyor.com/api/projects/status/nlnlmpttdjlndyc2?svg=true" alt="AppVeyor status" class="inline"/></a> <a href="https://coveralls.io/github/Taywee/args?branch=master"><img src="https://coveralls.io/repos/github/Taywee/args/badge.svg?branch=master" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a> <a href="https://taywee.github.io/args"><img src="https://img.shields.io/readthedocs/pip.svg" alt="Read the Docs" style="pointer-events: none;" class="inline"/></a></p>
<p>A simple, small, flexible, single-header C++11 argument parsing library, in fewer than 2K lines of code.</p>
<p>This is designed to appear somewhat similar to Python's argparse, but in C++, with static type checking, and hopefully a lot faster (also allowing fully nestable group logic, where Python's argparse does not).</p>
<p>UTF-8 support is limited at best. No normalization is performed, so non-ascii characters are very best kept out of flags, and combined glyphs are probably going to mess up help output if you use them. Most UTF-8 necessary for internationalization should work for most cases, though heavily combinatory UTF alphabets may wreak havoc.</p>
<p>This program is MIT-licensed, so you can use the header as-is with no restrictions. I'd appreciate attribution in a README, Man page, or something if you are feeling generous, but all that's required is that you don't remove the license and my name from the header of the <a class="el" href="args_8hxx.html" title="this single-header lets you use all of the args functionality">args.hxx</a> file in source redistributions (ie. don't pretend that you wrote it). I do welcome additions and updates wherever you feel like contributing code.</p>
<p>The API documentation can be found at <a href="https://taywee.github.io/args">https://taywee.github.io/args</a></p>
<p>The code can be downloaded at <a href="https://github.com/Taywee/args">https://github.com/Taywee/args</a></p>
<p>There are also somewhat extensive examples below.</p>
<p>You can find the complete test cases at <a href="https://github.com/Taywee/args/blob/master/test.cxx">https://github.com/Taywee/args/blob/master/test.cxx</a>, which should very well describe the usage, as it's built to push the boundaries.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
What does it do?</h1>
<p>It:</p>
<ul>
<li>Lets you handle flags, flag+value, and positional arguments simply and elegently, with the full help of static typechecking.</li>
<li>Allows you to use your own types in a pretty simple way.</li>
<li>Lets you use count flags, and lists of all argument-accepting types.</li>
<li>Allows full validation of groups of required arguments, though output isn't pretty when something fails group validation. User validation functions are accepted. Groups are fully nestable.</li>
<li>Generates pretty help for you, with some good tweakable parameters.</li>
<li>Lets you customize all prefixes and most separators, allowing you to create an infinite number of different argument syntaxes</li>
<li>Lets you parse, by default, any type that has a stream extractor operator for it. If this doesn't work for your uses, you can supply a function and parse the string yourself if you like.</li>
<li>Lets you decide not to allow separate-argument value flags or joined ones (like disallowing <code>--foo bar</code>, requiring <code>--foo=bar</code>, or the inverse, or the same for short options).</li>
<li>Allows you to create subparsers, to reuse arguments for multiple commands and to refactor your command's logic to a function or lambda</li>
<li>Allows one value flag to take a specific number of values (like <code>--foo first second</code>, where &ndash;foo slurps both arguments).</li>
<li>Allows you to have value flags only optionally accept values</li>
<li>Provides autocompletion for bash</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
What does it not do?</h1>
<p>There are tons of things this library does not do!</p>
<h2><a class="anchor" id="autotoc_md4"></a>
It will not ever:</h2>
<ul>
<li>Allow you to intermix multiple different prefix types (eg. <code>++foo</code> and <code>--foo</code> in the same parser), though shortopt and longopt prefixes can be different.</li>
<li>Allow you to make flags sensitive to order (like gnu find), or make them sensitive to relative ordering with positionals. The only orderings that are order-sensitive are:<ul>
<li>Positionals relative to one-another</li>
<li>List positionals or flag values to each of their own respective items</li>
</ul>
</li>
<li>Allow you to use a positional list before any other positionals (the last argument list will slurp all subsequent positional arguments). The logic for allowing this would be a lot more code than I'd like, and would make static checking much more difficult, requiring us to sort std::string arguments and pair them to positional arguments before assigning them, rather than what we currently do, which is assiging them as we go for better simplicity and speed. The library doesn't stop you from trying, but the first positional list will slurp in all following positionals</li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
How do I install it?</h1>
<div class="fragment"><div class="line">sudo make install</div>
</div><!-- fragment --><p>Or, to install it somewhere special (default is <code>/usr/local</code>):</p>
<div class="fragment"><div class="line">sudo make install DESTDIR=/opt/mydir</div>
</div><!-- fragment --><p>You can also copy the file into your source tree, if you want to be absolutely sure you keep a stable API between projects.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
I also want man pages.</h2>
<div class="fragment"><div class="line">make doc/man</div>
<div class="line">sudo make installman</div>
</div><!-- fragment --><p>This requires Doxygen</p>
<h2><a class="anchor" id="autotoc_md7"></a>
I want the doxygen documentation locally</h2>
<div class="fragment"><div class="line">doxygen Doxyfile</div>
</div><!-- fragment --><p>Your docs are now in doc/html</p>
<h1><a class="anchor" id="autotoc_md8"></a>
How do I use it?</h1>
<p>Create an ArgumentParser, modify its attributes to fit your needs, add arguments through regular argument objects (or create your own), and match them with an <a class="el" href="classargs_1_1Matcher.html" title="A class of &quot;matchers&quot;, specifying short and flags that can possibly be matched.">args::Matcher</a> object (check its construction details in the doxygen documentation.</p>
<p>Then you can either call it with <a class="el" href="classargs_1_1ArgumentParser.html#a8e79c5bd015bad9648b9c98eecc63fc9" title="Convenience function to parse the CLI from argc and argv.">args::ArgumentParser::ParseCLI</a> for the full command line with program name, or <a class="el" href="classargs_1_1ArgumentParser.html#a4bc1f3f3d000f11715fa66ade894bd9b" title="Parse all arguments.">args::ArgumentParser::ParseArgs</a> with just the arguments to be parsed. The argument and group variables can then be interpreted as a boolean to see if they've been matched.</p>
<p>All variables can be pulled (including the boolean match status for regular <a class="el" href="classargs_1_1Flag.html" title="Boolean argument matcher.">args::Flag</a> variables) with <a class="el" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1" title="Getter to grab the value from the argument type.">args::get</a>.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Group validation is weird.  How do I get more helpful output for failed validation?</h1>
<p>This is unfortunately not possible, given the power of the groups available. For instance, if you have a group validation that works like <code>(A &amp;&amp; B) || (C &amp;&amp; (D XOR E))</code>, how is this library going to be able to determine what exactly when wrong when it fails? It only knows that the entire expression evaluated false, not specifically what the user did wrong (and this is doubled over by the fact that validation operations are ordinary functions without any special meaning to the library). As you are the only one who understands the logic of your program, if you want useful group messages, you have to catch the ValidationError as a special case and check your own groups and spit out messages accordingly.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Is it developed with regression tests?</h1>
<p>Yes. tests.cxx in the git repository has a set of standard tests (which are still relatively small in number, but I would welcome some expansion here), and thanks to Travis CI and AppVeyor, these tests run with every single push:</p>
<div class="fragment"><div class="line">% make runtests</div>
<div class="line">g++ test.cxx -o test.o -I. -std=c++11 -O2 -c -MMD</div>
<div class="line">g++ -o test test.o -std=c++11 -O2</div>
<div class="line">./test</div>
<div class="line">===============================================================================</div>
<div class="line">All tests passed (74 assertions in 15 test cases)</div>
<div class="line"> </div>
<div class="line">%</div>
</div><!-- fragment --><p>The testing library used is <a href="https://github.com/philsquared/Catch">Catch</a>.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Examples</h1>
<p>All the code examples here will be complete code examples, with some output.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Simple example:</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program.&quot;</span>, <span class="stringliteral">&quot;This goes after the options.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1HelpFlag.html">args::HelpFlag</a> help(parser, <span class="stringliteral">&quot;help&quot;</span>, <span class="stringliteral">&quot;Display this help menu&quot;</span>, {<span class="charliteral">&#39;h&#39;</span>, <span class="stringliteral">&quot;help&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1CompletionFlag.html">args::CompletionFlag</a> completion(parser, {<span class="stringliteral">&quot;complete&quot;</span>});</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        parser.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="classargs_1_1Completion.html">args::Completion</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; e.what();</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="classargs_1_1Help.html">args::Help</a>&amp;)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="classargs_1_1ParseError.html">args::ParseError</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aargs_8hxx_html"><div class="ttname"><a href="args_8hxx.html">args.hxx</a></div><div class="ttdoc">this single-header lets you use all of the args functionality</div></div>
<div class="ttc" id="aclassargs_1_1ArgumentParser_html"><div class="ttname"><a href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a></div><div class="ttdoc">The main user facing command line argument parser class.</div><div class="ttdef"><b>Definition:</b> args.hxx:2248</div></div>
<div class="ttc" id="aclassargs_1_1CompletionFlag_html"><div class="ttname"><a href="classargs_1_1CompletionFlag.html">args::CompletionFlag</a></div><div class="ttdef"><b>Definition:</b> args.hxx:1238</div></div>
<div class="ttc" id="aclassargs_1_1Completion_html"><div class="ttname"><a href="classargs_1_1Completion.html">args::Completion</a></div><div class="ttdoc">An exception that contains autocompletion reply.</div><div class="ttdef"><b>Definition:</b> args.hxx:343</div></div>
<div class="ttc" id="aclassargs_1_1HelpFlag_html"><div class="ttname"><a href="classargs_1_1HelpFlag.html">args::HelpFlag</a></div><div class="ttdoc">Help flag class.</div><div class="ttdef"><b>Definition:</b> args.hxx:3189</div></div>
<div class="ttc" id="aclassargs_1_1Help_html"><div class="ttname"><a href="classargs_1_1Help.html">args::Help</a></div><div class="ttdoc">An exception that indicates that the user has requested help.</div><div class="ttdef"><b>Definition:</b> args.hxx:325</div></div>
<div class="ttc" id="aclassargs_1_1ParseError_html"><div class="ttname"><a href="classargs_1_1ParseError.html">args::ParseError</a></div><div class="ttdoc">Errors that occur during regular parsing.</div><div class="ttdef"><b>Definition:</b> args.hxx:280</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">% ./test</div>
<div class="line">% ./test -h</div>
<div class="line"> ./test {OPTIONS} </div>
<div class="line"> </div>
<div class="line">   This is a test program. </div>
<div class="line"> </div>
<div class="line"> OPTIONS:</div>
<div class="line"> </div>
<div class="line">     -h, --help         Display this help menu </div>
<div class="line"> </div>
<div class="line">   This goes after the options. </div>
<div class="line">% </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13"></a>
Boolean flags, special group types, different matcher construction:</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program.&quot;</span>, <span class="stringliteral">&quot;This goes after the options.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> group(parser, <span class="stringliteral">&quot;This group is all exclusive:&quot;</span>, args::Group::Validators::Xor);</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> foo(group, <span class="stringliteral">&quot;foo&quot;</span>, <span class="stringliteral">&quot;The foo flag&quot;</span>, {<span class="charliteral">&#39;f&#39;</span>, <span class="stringliteral">&quot;foo&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> bar(group, <span class="stringliteral">&quot;bar&quot;</span>, <span class="stringliteral">&quot;The bar flag&quot;</span>, {<span class="charliteral">&#39;b&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> baz(group, <span class="stringliteral">&quot;baz&quot;</span>, <span class="stringliteral">&quot;The baz flag&quot;</span>, {<span class="stringliteral">&quot;baz&quot;</span>});</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        parser.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ParseError.html">args::ParseError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ValidationError.html">args::ValidationError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (foo) { std::cout &lt;&lt; <span class="stringliteral">&quot;foo&quot;</span> &lt;&lt; std::endl; }</div>
<div class="line">    <span class="keywordflow">if</span> (bar) { std::cout &lt;&lt; <span class="stringliteral">&quot;bar&quot;</span> &lt;&lt; std::endl; }</div>
<div class="line">    <span class="keywordflow">if</span> (baz) { std::cout &lt;&lt; <span class="stringliteral">&quot;baz&quot;</span> &lt;&lt; std::endl; }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassargs_1_1Flag_html"><div class="ttname"><a href="classargs_1_1Flag.html">args::Flag</a></div><div class="ttdoc">Boolean argument matcher.</div><div class="ttdef"><b>Definition:</b> args.hxx:3154</div></div>
<div class="ttc" id="aclassargs_1_1Group_html"><div class="ttname"><a href="classargs_1_1Group.html">args::Group</a></div><div class="ttdoc">Class for all kinds of validating groups, including ArgumentParser.</div><div class="ttdef"><b>Definition:</b> args.hxx:1343</div></div>
<div class="ttc" id="aclassargs_1_1ValidationError_html"><div class="ttname"><a href="classargs_1_1ValidationError.html">args::ValidationError</a></div><div class="ttdoc">Errors that are detected from group validation after parsing finishes.</div><div class="ttdef"><b>Definition:</b> args.hxx:289</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"> % ./test   </div>
<div class="line">Group validation failed somewhere!</div>
<div class="line">  ./test {OPTIONS} </div>
<div class="line"> </div>
<div class="line">    This is a test program. </div>
<div class="line"> </div>
<div class="line">  OPTIONS:</div>
<div class="line"> </div>
<div class="line">                         This group is all exclusive:</div>
<div class="line">        -f, --foo          The foo flag </div>
<div class="line">        -b                 The bar flag </div>
<div class="line">        --baz              The baz flag </div>
<div class="line"> </div>
<div class="line">    This goes after the options. </div>
<div class="line"> % ./test -f</div>
<div class="line">foo</div>
<div class="line"> % ./test --foo</div>
<div class="line">foo</div>
<div class="line"> % ./test --foo -f</div>
<div class="line">foo</div>
<div class="line"> % ./test -b      </div>
<div class="line">bar</div>
<div class="line"> % ./test --baz</div>
<div class="line">baz</div>
<div class="line"> % ./test --baz -f</div>
<div class="line">Group validation failed somewhere!</div>
<div class="line">  ./test {OPTIONS} </div>
<div class="line"> </div>
<div class="line">    This is a test program. </div>
<div class="line">...</div>
<div class="line"> % ./test --baz -fb</div>
<div class="line">Group validation failed somewhere!</div>
<div class="line">  ./test {OPTIONS} </div>
<div class="line">...</div>
<div class="line"> % </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md14"></a>
Argument flags, Positional arguments, lists</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program.&quot;</span>, <span class="stringliteral">&quot;This goes after the options.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1HelpFlag.html">args::HelpFlag</a> help(parser, <span class="stringliteral">&quot;help&quot;</span>, <span class="stringliteral">&quot;Display this help menu&quot;</span>, {<span class="charliteral">&#39;h&#39;</span>, <span class="stringliteral">&quot;help&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;int&gt;</a> integer(parser, <span class="stringliteral">&quot;integer&quot;</span>, <span class="stringliteral">&quot;The integer flag&quot;</span>, {<span class="charliteral">&#39;i&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlagList.html">args::ValueFlagList&lt;char&gt;</a> characters(parser, <span class="stringliteral">&quot;characters&quot;</span>, <span class="stringliteral">&quot;The character flag&quot;</span>, {<span class="charliteral">&#39;c&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> foo(parser, <span class="stringliteral">&quot;foo&quot;</span>, <span class="stringliteral">&quot;The foo position&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;double&gt;</a> numbers(parser, <span class="stringliteral">&quot;numbers&quot;</span>, <span class="stringliteral">&quot;The numbers position list&quot;</span>);</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        parser.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ParseError.html">args::ParseError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ValidationError.html">args::ValidationError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (integer) { std::cout &lt;&lt; <span class="stringliteral">&quot;i: &quot;</span> &lt;&lt; <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(integer) &lt;&lt; std::endl; }</div>
<div class="line">    <span class="keywordflow">if</span> (characters) { <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> ch: <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(characters)) { std::cout &lt;&lt; <span class="stringliteral">&quot;c: &quot;</span> &lt;&lt; ch &lt;&lt; std::endl; } }</div>
<div class="line">    <span class="keywordflow">if</span> (foo) { std::cout &lt;&lt; <span class="stringliteral">&quot;f: &quot;</span> &lt;&lt; <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(foo) &lt;&lt; std::endl; }</div>
<div class="line">    <span class="keywordflow">if</span> (numbers) { <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> nm: <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(numbers)) { std::cout &lt;&lt; <span class="stringliteral">&quot;n: &quot;</span> &lt;&lt; nm &lt;&lt; std::endl; } }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassargs_1_1PositionalList_html"><div class="ttname"><a href="classargs_1_1PositionalList.html">args::PositionalList</a></div><div class="ttdoc">A positional argument class that pushes the found values into a list.</div><div class="ttdef"><b>Definition:</b> args.hxx:3982</div></div>
<div class="ttc" id="aclassargs_1_1Positional_html"><div class="ttname"><a href="classargs_1_1Positional.html">args::Positional</a></div><div class="ttdoc">A positional argument class.</div><div class="ttdef"><b>Definition:</b> args.hxx:3926</div></div>
<div class="ttc" id="aclassargs_1_1ValueFlagList_html"><div class="ttname"><a href="classargs_1_1ValueFlagList.html">args::ValueFlagList</a></div><div class="ttdoc">An argument-accepting flag class that pushes the found values into a list.</div><div class="ttdef"><b>Definition:</b> args.hxx:3584</div></div>
<div class="ttc" id="aclassargs_1_1ValueFlag_html"><div class="ttname"><a href="classargs_1_1ValueFlag.html">args::ValueFlag</a></div><div class="ttdoc">An argument-accepting flag class.</div><div class="ttdef"><b>Definition:</b> args.hxx:3339</div></div>
<div class="ttc" id="anamespaceargs_html_adbff5cc15191b28f5a1aa74344172ba1"><div class="ttname"><a href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a></div><div class="ttdeci">auto get(Option &amp;option_) -&gt; decltype(option_.Get())</div><div class="ttdoc">Getter to grab the value from the argument type.</div><div class="ttdef"><b>Definition:</b> args.hxx:76</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">% ./test -h</div>
<div class="line">  ./test {OPTIONS} [foo] [numbers...] </div>
<div class="line"> </div>
<div class="line">    This is a test program. </div>
<div class="line"> </div>
<div class="line">  OPTIONS:</div>
<div class="line"> </div>
<div class="line">      -h, --help         Display this help menu </div>
<div class="line">      -i integer         The integer flag </div>
<div class="line">      -c characters      The character flag </div>
<div class="line">      foo                The foo position </div>
<div class="line">      numbers            The numbers position list </div>
<div class="line">      &quot;--&quot; can be used to terminate flag options and force all following</div>
<div class="line">      arguments to be treated as positional options </div>
<div class="line"> </div>
<div class="line">    This goes after the options. </div>
<div class="line"> % ./test -i 5</div>
<div class="line">i: 5</div>
<div class="line"> % ./test -i 5.2</div>
<div class="line">Argument &#39;integer&#39; received invalid value type &#39;5.2&#39;</div>
<div class="line">  ./test {OPTIONS} [foo] [numbers...] </div>
<div class="line"> % ./test -c 1 -c 2 -c 3</div>
<div class="line">c: 1</div>
<div class="line">c: 2</div>
<div class="line">c: 3</div>
<div class="line"> % </div>
<div class="line"> % ./test 1 2 3 4 5 6 7 8 9</div>
<div class="line">f: 1</div>
<div class="line">n: 2</div>
<div class="line">n: 3</div>
<div class="line">n: 4</div>
<div class="line">n: 5</div>
<div class="line">n: 6</div>
<div class="line">n: 7</div>
<div class="line">n: 8</div>
<div class="line">n: 9</div>
<div class="line"> % ./test 1 2 3 4 5 6 7 8 9 a</div>
<div class="line">Argument &#39;numbers&#39; received invalid value type &#39;a&#39;</div>
<div class="line">  ./test {OPTIONS} [foo] [numbers...] </div>
<div class="line"> </div>
<div class="line">    This is a test program. </div>
<div class="line">...</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Commands</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> p(<span class="stringliteral">&quot;git-like parser&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> commands(p, <span class="stringliteral">&quot;commands&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Command.html">args::Command</a> add(commands, <span class="stringliteral">&quot;add&quot;</span>, <span class="stringliteral">&quot;add file contents to the index&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Command.html">args::Command</a> commit(commands, <span class="stringliteral">&quot;commit&quot;</span>, <span class="stringliteral">&quot;record changes to the repository&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> arguments(p, <span class="stringliteral">&quot;arguments&quot;</span>, args::Group::Validators::DontCare, <a class="code" href="namespaceargs.html#aa530c0f95194aa275f49a5f299ac9e77a4cc6684df7b4a92b1dec6fce3264fac8">args::Options::Global</a>);</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> gitdir(arguments, <span class="stringliteral">&quot;path&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, {<span class="stringliteral">&quot;git-dir&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1HelpFlag.html">args::HelpFlag</a> h(arguments, <span class="stringliteral">&quot;help&quot;</span>, <span class="stringliteral">&quot;help&quot;</span>, {<span class="charliteral">&#39;h&#39;</span>, <span class="stringliteral">&quot;help&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> pathsList(arguments, <span class="stringliteral">&quot;paths&quot;</span>, <span class="stringliteral">&quot;files to commit&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        p.ParseCLI(argc, argv);</div>
<div class="line">        <span class="keywordflow">if</span> (add)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Add&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Commit&quot;</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;path : pathsList)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; path;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; p;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Error.html">args::Error</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl &lt;&lt; p;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassargs_1_1Command_html"><div class="ttname"><a href="classargs_1_1Command.html">args::Command</a></div><div class="ttdoc">Main class for building subparsers.</div><div class="ttdef"><b>Definition:</b> args.hxx:1712</div></div>
<div class="ttc" id="aclassargs_1_1Error_html"><div class="ttname"><a href="classargs_1_1Error.html">args::Error</a></div><div class="ttdoc">Base error class.</div><div class="ttdef"><b>Definition:</b> args.hxx:262</div></div>
<div class="ttc" id="anamespaceargs_html_aa530c0f95194aa275f49a5f299ac9e77a4cc6684df7b4a92b1dec6fce3264fac8"><div class="ttname"><a href="namespaceargs.html#aa530c0f95194aa275f49a5f299ac9e77a4cc6684df7b4a92b1dec6fce3264fac8">args::Options::Global</a></div><div class="ttdeci">@ Global</div><div class="ttdoc">Flag is global and can be used in any subcommand.</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">% ./test -h</div>
<div class="line">  ./test COMMAND [paths...] {OPTIONS}</div>
<div class="line"> </div>
<div class="line">    git-like parser</div>
<div class="line"> </div>
<div class="line">  OPTIONS:</div>
<div class="line"> </div>
<div class="line">      commands</div>
<div class="line">        add                               add file contents to the index</div>
<div class="line">        commit                            record changes to the repository</div>
<div class="line">      arguments</div>
<div class="line">        --git-dir=[path]</div>
<div class="line">        -h, --help                        help</div>
<div class="line">        paths...                          files</div>
<div class="line">      &quot;--&quot; can be used to terminate flag options and force all following</div>
<div class="line">      arguments to be treated as positional options</div>
<div class="line"> </div>
<div class="line">% ./test add 1 2</div>
<div class="line">Add 1 2</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md16"></a>
Refactoring commands</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="args_8hxx.html">args.hxx</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="classargs_1_1Group.html">args::Group</a> arguments(<span class="stringliteral">&quot;arguments&quot;</span>);</div>
<div class="line"><a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> gitdir(arguments, <span class="stringliteral">&quot;path&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, {<span class="stringliteral">&quot;git-dir&quot;</span>});</div>
<div class="line"><a class="code" href="classargs_1_1HelpFlag.html">args::HelpFlag</a> h(arguments, <span class="stringliteral">&quot;help&quot;</span>, <span class="stringliteral">&quot;help&quot;</span>, {<span class="charliteral">&#39;h&#39;</span>, <span class="stringliteral">&quot;help&quot;</span>});</div>
<div class="line"><a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> pathsList(arguments, <span class="stringliteral">&quot;paths&quot;</span>, <span class="stringliteral">&quot;files to commit&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CommitCommand(<a class="code" href="classargs_1_1Subparser.html">args::Subparser</a> &amp;parser)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> message(parser, <span class="stringliteral">&quot;MESSAGE&quot;</span>, <span class="stringliteral">&quot;commit message&quot;</span>, {<span class="charliteral">&#39;m&#39;</span>});</div>
<div class="line">    parser.<a class="code" href="classargs_1_1Subparser.html#a9a21d184d749d4b5d8b6bddd4c5fda33">Parse</a>();</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Commit&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;path : pathsList)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; path;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (message)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;message: &quot;</span> &lt;&lt; <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(message) &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> p(<span class="stringliteral">&quot;git-like parser&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> commands(p, <span class="stringliteral">&quot;commands&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Command.html">args::Command</a> add(commands, <span class="stringliteral">&quot;add&quot;</span>, <span class="stringliteral">&quot;add file contents to the index&quot;</span>, [&amp;](<a class="code" href="classargs_1_1Subparser.html">args::Subparser</a> &amp;parser)</div>
<div class="line">    {</div>
<div class="line">        parser.<a class="code" href="classargs_1_1Subparser.html#a9a21d184d749d4b5d8b6bddd4c5fda33">Parse</a>();</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Add&quot;</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;path : pathsList)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; path;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::endl;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classargs_1_1Command.html">args::Command</a> commit(commands, <span class="stringliteral">&quot;commit&quot;</span>, <span class="stringliteral">&quot;record changes to the repository&quot;</span>, &amp;CommitCommand);</div>
<div class="line">    <a class="code" href="classargs_1_1GlobalOptions.html">args::GlobalOptions</a> globals(p, arguments);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        p.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; p;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Error.html">args::Error</a>&amp; e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl &lt;&lt; p;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassargs_1_1GlobalOptions_html"><div class="ttname"><a href="classargs_1_1GlobalOptions.html">args::GlobalOptions</a></div><div class="ttdoc">Class for using global options in ArgumentParser.</div><div class="ttdef"><b>Definition:</b> args.hxx:1631</div></div>
<div class="ttc" id="aclassargs_1_1Subparser_html"><div class="ttname"><a href="classargs_1_1Subparser.html">args::Subparser</a></div><div class="ttdoc">Utility class for building subparsers with coroutines/callbacks.</div><div class="ttdef"><b>Definition:</b> args.hxx:1657</div></div>
<div class="ttc" id="aclassargs_1_1Subparser_html_a9a21d184d749d4b5d8b6bddd4c5fda33"><div class="ttname"><a href="classargs_1_1Subparser.html#a9a21d184d749d4b5d8b6bddd4c5fda33">args::Subparser::Parse</a></div><div class="ttdeci">void Parse()</div><div class="ttdoc">Continue parsing arguments for new command.</div><div class="ttdef"><b>Definition:</b> args.hxx:3117</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">% ./test -h</div>
<div class="line">  ./test COMMAND [paths...] {OPTIONS}</div>
<div class="line"> </div>
<div class="line">    git-like parser</div>
<div class="line"> </div>
<div class="line">  OPTIONS:</div>
<div class="line"> </div>
<div class="line">      commands</div>
<div class="line">        add                               add file contents to the index</div>
<div class="line">        commit                            record changes to the repository</div>
<div class="line">      arguments</div>
<div class="line">        --git-dir=[path]</div>
<div class="line">        -h, --help                        help</div>
<div class="line">        paths...                          files</div>
<div class="line">      &quot;--&quot; can be used to terminate flag options and force all following</div>
<div class="line">      arguments to be treated as positional options</div>
<div class="line"> </div>
<div class="line">% ./test add 1 2</div>
<div class="line">Add 1 2</div>
<div class="line"> </div>
<div class="line">% ./test commit -m &quot;my commit message&quot; 1 2</div>
<div class="line">Commit 1 2</div>
<div class="line">message: my commit message</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
Custom type parsers (here we use std::tuple)</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"> </div>
<div class="line">std::istream&amp; operator&gt;&gt;(std::istream&amp; is, std::tuple&lt;int, int&gt;&amp; ints)</div>
<div class="line">{</div>
<div class="line">    is &gt;&gt; std::get&lt;0&gt;(ints);</div>
<div class="line">    is.get();</div>
<div class="line">    is &gt;&gt; std::get&lt;1&gt;(ints);</div>
<div class="line">    <span class="keywordflow">return</span> is;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code" href="structDoublesReader.html">DoublesReader</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> std::string &amp;value, std::tuple&lt;double, double&gt; &amp;destination)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">size_t</span> commapos = 0;</div>
<div class="line">        std::get&lt;0&gt;(destination) = std::stod(value, &amp;commapos);</div>
<div class="line">        std::get&lt;1&gt;(destination) = std::stod(std::string(value, commapos + 1));</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::tuple&lt;int, int&gt;</a>&gt; ints(parser, <span class="stringliteral">&quot;INTS&quot;</span>, <span class="stringliteral">&quot;This takes a pair of integers.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::tuple&lt;double, double&gt;</a>, <a class="code" href="structDoublesReader.html">DoublesReader</a>&gt; doubles(parser, <span class="stringliteral">&quot;DOUBLES&quot;</span>, <span class="stringliteral">&quot;This takes a pair of doubles.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        parser.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ParseError.html">args::ParseError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (ints)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;ints found: &quot;</span> &lt;&lt; std::get&lt;0&gt;(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(ints)) &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; std::get&lt;1&gt;(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(ints)) &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (doubles)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;doubles found: &quot;</span> &lt;&lt; std::get&lt;0&gt;(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(doubles)) &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; std::get&lt;1&gt;(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(doubles)) &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="astructDoublesReader_html"><div class="ttname"><a href="structDoublesReader.html">DoublesReader</a></div><div class="ttdef"><b>Definition:</b> test.cxx:336</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"> % ./test -h</div>
<div class="line">Argument could not be matched: &#39;h&#39;</div>
<div class="line">  ./test [INTS] [DOUBLES] </div>
<div class="line"> </div>
<div class="line">    This is a test program. </div>
<div class="line"> </div>
<div class="line">  OPTIONS:</div>
<div class="line"> </div>
<div class="line">      INTS               This takes a pair of integers. </div>
<div class="line">      DOUBLES            This takes a pair of doubles. </div>
<div class="line"> </div>
<div class="line"> % ./test 5</div>
<div class="line">ints found: 5 and 0</div>
<div class="line"> % ./test 5,8</div>
<div class="line">ints found: 5 and 8</div>
<div class="line"> % ./test 5,8 2.4,8</div>
<div class="line">ints found: 5 and 8</div>
<div class="line">doubles found: 2.4 and 8</div>
<div class="line"> % ./test 5,8 2.4, </div>
<div class="line">terminate called after throwing an instance of &#39;std::invalid_argument&#39;</div>
<div class="line">  what():  stod</div>
<div class="line">zsh: abort      ./test 5,8 2.4,</div>
<div class="line"> % ./test 5,8 2.4 </div>
<div class="line">terminate called after throwing an instance of &#39;std::out_of_range&#39;</div>
<div class="line">  what():  basic_string::basic_string: __pos (which is 4) &gt; this-&gt;size() (which is 3)</div>
<div class="line">zsh: abort      ./test 5,8 2.4</div>
<div class="line"> % ./test 5,8 2.4-7</div>
<div class="line">ints found: 5 and 8</div>
<div class="line">doubles found: 2.4 and 7</div>
<div class="line"> % ./test 5,8 2.4,-7</div>
<div class="line">ints found: 5 and 8</div>
<div class="line">doubles found: 2.4 and -7</div>
</div><!-- fragment --><p>As you can see, with your own types, validation can get a little weird. Make sure to check and throw a parsing error (or whatever error you want to catch) if you can't fully deduce your type. The built-in validator will only throw if there are unextracted characters left in the stream.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Long descriptions and proper wrapping and listing</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program with a really long description that is probably going to have to be wrapped across multiple different lines.  This is a test to see how the line wrapping works&quot;</span>, <span class="stringliteral">&quot;This goes after the options.  This epilog is also long enough that it will have to be properly wrapped to display correctly on the screen&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1HelpFlag.html">args::HelpFlag</a> help(parser, <span class="stringliteral">&quot;HELP&quot;</span>, <span class="stringliteral">&quot;Show this help menu.&quot;</span>, {<span class="charliteral">&#39;h&#39;</span>, <span class="stringliteral">&quot;help&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> foo(parser, <span class="stringliteral">&quot;FOO&quot;</span>, <span class="stringliteral">&quot;The foo flag.&quot;</span>, {<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;the-foo-flag&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> bar(parser, <span class="stringliteral">&quot;BAR&quot;</span>, <span class="stringliteral">&quot;The bar flag.  This one has a lot of options, and will need wrapping in the description, along with its long flag list.&quot;</span>, {<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;f&#39;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>, <span class="stringliteral">&quot;f&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> baz(parser, <span class="stringliteral">&quot;FOO&quot;</span>, <span class="stringliteral">&quot;The baz flag.  This one has a lot of options, and will need wrapping in the description, even with its short flag list.&quot;</span>, {<span class="stringliteral">&quot;baz&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos1(parser, <span class="stringliteral">&quot;POS1&quot;</span>, <span class="stringliteral">&quot;The pos1 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist1(parser, <span class="stringliteral">&quot;POSLIST1&quot;</span>, <span class="stringliteral">&quot;The poslist1 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos2(parser, <span class="stringliteral">&quot;POS2&quot;</span>, <span class="stringliteral">&quot;The pos2 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist2(parser, <span class="stringliteral">&quot;POSLIST2&quot;</span>, <span class="stringliteral">&quot;The poslist2 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos3(parser, <span class="stringliteral">&quot;POS3&quot;</span>, <span class="stringliteral">&quot;The pos3 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist3(parser, <span class="stringliteral">&quot;POSLIST3&quot;</span>, <span class="stringliteral">&quot;The poslist3 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos4(parser, <span class="stringliteral">&quot;POS4&quot;</span>, <span class="stringliteral">&quot;The pos4 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist4(parser, <span class="stringliteral">&quot;POSLIST4&quot;</span>, <span class="stringliteral">&quot;The poslist4 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos5(parser, <span class="stringliteral">&quot;POS5&quot;</span>, <span class="stringliteral">&quot;The pos5 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist5(parser, <span class="stringliteral">&quot;POSLIST5&quot;</span>, <span class="stringliteral">&quot;The poslist5 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos6(parser, <span class="stringliteral">&quot;POS6&quot;</span>, <span class="stringliteral">&quot;The pos6 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist6(parser, <span class="stringliteral">&quot;POSLIST6&quot;</span>, <span class="stringliteral">&quot;The poslist6 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos7(parser, <span class="stringliteral">&quot;POS7&quot;</span>, <span class="stringliteral">&quot;The pos7 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist7(parser, <span class="stringliteral">&quot;POSLIST7&quot;</span>, <span class="stringliteral">&quot;The poslist7 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos8(parser, <span class="stringliteral">&quot;POS8&quot;</span>, <span class="stringliteral">&quot;The pos8 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist8(parser, <span class="stringliteral">&quot;POSLIST8&quot;</span>, <span class="stringliteral">&quot;The poslist8 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Positional.html">args::Positional&lt;std::string&gt;</a> pos9(parser, <span class="stringliteral">&quot;POS9&quot;</span>, <span class="stringliteral">&quot;The pos9 argument.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;std::string&gt;</a> poslist9(parser, <span class="stringliteral">&quot;POSLIST9&quot;</span>, <span class="stringliteral">&quot;The poslist9 argument.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        parser.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ParseError.html">args::ParseError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ValidationError.html">args::ValidationError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">% ./test -h</div>
<div class="line"> ./test {OPTIONS} [POS1] [POSLIST1...] [POS2] [POSLIST2...] [POS3]</div>
<div class="line">     [POSLIST3...] [POS4] [POSLIST4...] [POS5] [POSLIST5...] [POS6]</div>
<div class="line">     [POSLIST6...] [POS7] [POSLIST7...] [POS8] [POSLIST8...] [POS9]</div>
<div class="line">     [POSLIST9...] </div>
<div class="line"> </div>
<div class="line">   This is a test program with a really long description that is probably going</div>
<div class="line">   to have to be wrapped across multiple different lines. This is a test to see</div>
<div class="line">   how the line wrapping works </div>
<div class="line"> </div>
<div class="line"> OPTIONS:</div>
<div class="line"> </div>
<div class="line">     -h, --help         Show this help menu. </div>
<div class="line">     -a FOO, -b FOO, -c FOO, --a FOO, --b FOO, --c FOO, --the-foo-flag FOO</div>
<div class="line">                        The foo flag. </div>
<div class="line">     -d BAR, -e BAR, -f BAR, --d BAR, --e BAR, --f BAR</div>
<div class="line">                        The bar flag. This one has a lot of options, and will</div>
<div class="line">                        need wrapping in the description, along with its long</div>
<div class="line">                        flag list. </div>
<div class="line">     --baz FOO          The baz flag. This one has a lot of options, and will</div>
<div class="line">                        need wrapping in the description, even with its short</div>
<div class="line">                        flag list. </div>
<div class="line">     POS1               The pos1 argument. </div>
<div class="line">     POSLIST1           The poslist1 argument. </div>
<div class="line">     POS2               The pos2 argument. </div>
<div class="line">     POSLIST2           The poslist2 argument. </div>
<div class="line">     POS3               The pos3 argument. </div>
<div class="line">     POSLIST3           The poslist3 argument. </div>
<div class="line">     POS4               The pos4 argument. </div>
<div class="line">     POSLIST4           The poslist4 argument. </div>
<div class="line">     POS5               The pos5 argument. </div>
<div class="line">     POSLIST5           The poslist5 argument. </div>
<div class="line">     POS6               The pos6 argument. </div>
<div class="line">     POSLIST6           The poslist6 argument. </div>
<div class="line">     POS7               The pos7 argument. </div>
<div class="line">     POSLIST7           The poslist7 argument. </div>
<div class="line">     POS8               The pos8 argument. </div>
<div class="line">     POSLIST8           The poslist8 argument. </div>
<div class="line">     POS9               The pos9 argument. </div>
<div class="line">     POSLIST9           The poslist9 argument. </div>
<div class="line">     &quot;--&quot; can be used to terminate flag options and force all following</div>
<div class="line">     arguments to be treated as positional options </div>
<div class="line"> </div>
<div class="line">   This goes after the options. This epilog is also long enough that it will</div>
<div class="line">   have to be properly wrapped to display correctly on the screen </div>
<div class="line">%</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19"></a>
Customizing parser prefixes</h2>
<h3><a class="anchor" id="autotoc_md20"></a>
dd-style</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This command likes to break your disks&quot;</span>);</div>
<div class="line">    parser.LongPrefix(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    parser.LongSeparator(<span class="stringliteral">&quot;=&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1HelpFlag.html">args::HelpFlag</a> help(parser, <span class="stringliteral">&quot;HELP&quot;</span>, <span class="stringliteral">&quot;Show this help menu.&quot;</span>, {<span class="stringliteral">&quot;help&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;long&gt;</a> bs(parser, <span class="stringliteral">&quot;BYTES&quot;</span>, <span class="stringliteral">&quot;Block size&quot;</span>, {<span class="stringliteral">&quot;bs&quot;</span>}, 512);</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;long&gt;</a> skip(parser, <span class="stringliteral">&quot;BYTES&quot;</span>, <span class="stringliteral">&quot;Bytes to skip&quot;</span>, {<span class="stringliteral">&quot;skip&quot;</span>}, 0);</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> input(parser, <span class="stringliteral">&quot;BLOCK SIZE&quot;</span>, <span class="stringliteral">&quot;Block size&quot;</span>, {<span class="stringliteral">&quot;if&quot;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;std::string&gt;</a> output(parser, <span class="stringliteral">&quot;BLOCK SIZE&quot;</span>, <span class="stringliteral">&quot;Block size&quot;</span>, {<span class="stringliteral">&quot;of&quot;</span>});</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        parser.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ParseError.html">args::ParseError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ValidationError.html">args::ValidationError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        std::cerr &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;bs = &quot;</span> &lt;&lt; <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(bs) &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;skip = &quot;</span> &lt;&lt; <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(skip) &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">if</span> (input) { std::cout &lt;&lt; <span class="stringliteral">&quot;if = &quot;</span> &lt;&lt; <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(input) &lt;&lt; std::endl; }</div>
<div class="line">    <span class="keywordflow">if</span> (output) { std::cout &lt;&lt; <span class="stringliteral">&quot;of = &quot;</span> &lt;&lt; <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(output) &lt;&lt; std::endl; }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"> % ./test help</div>
<div class="line">  ./test {OPTIONS}</div>
<div class="line"> </div>
<div class="line">    This command likes to break your disks</div>
<div class="line"> </div>
<div class="line">  OPTIONS:</div>
<div class="line"> </div>
<div class="line">      help                              Show this help menu.</div>
<div class="line">      bs=[BYTES]                        Block size</div>
<div class="line">      skip=[BYTES]                      Bytes to skip</div>
<div class="line">      if=[BLOCK SIZE]                   Block size</div>
<div class="line">      of=[BLOCK SIZE]                   Block size</div>
<div class="line"> </div>
<div class="line"> % ./test bs=1024 skip=7 if=/tmp/input</div>
<div class="line">bs = 1024</div>
<div class="line">skip = 7</div>
<div class="line">if = /tmp/input</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md21"></a>
Windows style</h3>
<p>The code is the same as above, but the two lines are replaced out:</p>
<div class="fragment"><div class="line">parser.LongPrefix(<span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line">parser.LongSeparator(<span class="stringliteral">&quot;:&quot;</span>);</div>
</div><!-- fragment --><div class="fragment"><div class="line"> % ./test /help     </div>
<div class="line">  ./test {OPTIONS}</div>
<div class="line"> </div>
<div class="line">    This command likes to break your disks</div>
<div class="line"> </div>
<div class="line">  OPTIONS:</div>
<div class="line"> </div>
<div class="line">      /help                             Show this help menu.</div>
<div class="line">      /bs:[BYTES]                       Block size</div>
<div class="line">      /skip:[BYTES]                     Bytes to skip</div>
<div class="line">      /if:[BLOCK SIZE]                  Block size</div>
<div class="line">      /of:[BLOCK SIZE]                  Block size</div>
<div class="line"> </div>
<div class="line"> % ./test /bs:72 /skip:87 /if:/tmp/test.txt</div>
<div class="line">bs = 72</div>
<div class="line">skip = 87</div>
<div class="line">if = /tmp/test.txt</div>
<div class="line"> % </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
Group nesting help menu text</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="args_8hxx.html">args.hxx</a>&gt;</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program.&quot;</span>, <span class="stringliteral">&quot;This goes after the options.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> xorgroup(parser, <span class="stringliteral">&quot;this group provides xor validation:&quot;</span>, args::Group::Validators::Xor);</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> a(xorgroup, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;a&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> b(xorgroup, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;b&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> c(xorgroup, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;c&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> nxor(xorgroup, <span class="stringliteral">&quot;this group provides all-or-none (nxor) validation:&quot;</span>, args::Group::Validators::AllOrNone);</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> d(nxor, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;d&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> e(nxor, <span class="stringliteral">&quot;e&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;e&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> f(nxor, <span class="stringliteral">&quot;f&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;f&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> nxor2(nxor, <span class="stringliteral">&quot;this group provides all-or-none (nxor2) validation:&quot;</span>, args::Group::Validators::AllOrNone);</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> i(nxor2, <span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;i&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> j(nxor2, <span class="stringliteral">&quot;j&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;j&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> k(nxor2, <span class="stringliteral">&quot;k&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;k&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> nxor3(nxor, <span class="stringliteral">&quot;this group provides all-or-none (nxor3) validation:&quot;</span>, args::Group::Validators::AllOrNone);</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> l(nxor3, <span class="stringliteral">&quot;l&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;l&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> m(nxor3, <span class="stringliteral">&quot;m&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;m&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> n(nxor3, <span class="stringliteral">&quot;n&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;n&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Group.html">args::Group</a> atleastone(xorgroup, <span class="stringliteral">&quot;this group provides at-least-one validation:&quot;</span>, args::Group::Validators::AtLeastOne);</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> g(atleastone, <span class="stringliteral">&quot;g&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;g&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1Flag.html">args::Flag</a> o(atleastone, <span class="stringliteral">&quot;o&quot;</span>, <span class="stringliteral">&quot;test flag&quot;</span>, {<span class="charliteral">&#39;o&#39;</span>});</div>
<div class="line">    <a class="code" href="classargs_1_1HelpFlag.html">args::HelpFlag</a> help(parser, <span class="stringliteral">&quot;help&quot;</span>, <span class="stringliteral">&quot;Show this help menu&quot;</span>, {<span class="charliteral">&#39;h&#39;</span>, <span class="stringliteral">&quot;help&quot;</span>});</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        parser.ParseCLI(argc, argv);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1Help.html">args::Help</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; parser;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ParseError.html">args::ParseError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        parser.Help(std::cerr);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<a class="code" href="classargs_1_1ValidationError.html">args::ValidationError</a> e)</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        parser.Help(std::cerr);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">% /tmp/test -h</div>
<div class="line"> /tmp/test {OPTIONS} </div>
<div class="line"> </div>
<div class="line">   This is a test program. </div>
<div class="line"> </div>
<div class="line"> OPTIONS:</div>
<div class="line"> </div>
<div class="line">                        this group provides xor validation: </div>
<div class="line">       -a                 test flag </div>
<div class="line">       -b                 test flag </div>
<div class="line">       -c                 test flag </div>
<div class="line">                          this group provides all-or-none (nxor) validation: </div>
<div class="line">         -d                 test flag </div>
<div class="line">         -e                 test flag </div>
<div class="line">         -f                 test flag </div>
<div class="line">                            this group provides all-or-none (nxor2) validation:</div>
<div class="line">           -i                 test flag </div>
<div class="line">           -j                 test flag </div>
<div class="line">           -k                 test flag </div>
<div class="line">                            this group provides all-or-none (nxor3) validation:</div>
<div class="line">           -l                 test flag </div>
<div class="line">           -m                 test flag </div>
<div class="line">           -n                 test flag </div>
<div class="line">                          this group provides at-least-one validation: </div>
<div class="line">         -g                 test flag </div>
<div class="line">         -o                 test flag </div>
<div class="line">     -h, --help         Show this help menu </div>
<div class="line"> </div>
<div class="line">   This goes after the options. </div>
<div class="line">%                                                                                </div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23"></a>
Mapping arguments</h1>
<p>I haven't written out a long example for this, but here's the test case you should be able to discern the meaning from:</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code" href="structToLowerReader.html">ToLowerReader</a>(<span class="keyword">const</span> std::string &amp;name, <span class="keyword">const</span> std::string &amp;value, std::string &amp;destination)</div>
<div class="line">{</div>
<div class="line">    destination = value;</div>
<div class="line">    std::transform(destination.begin(), destination.end(), destination.begin(), ::tolower);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_CASE(<span class="stringliteral">&quot;Mapping types work as needed&quot;</span>, <span class="stringliteral">&quot;[args]&quot;</span>)</div>
<div class="line">{</div>
<div class="line">    std::unordered_map&lt;std::string, MappingEnum&gt; map{</div>
<div class="line">        {<span class="stringliteral">&quot;default&quot;</span>, MappingEnum::def},</div>
<div class="line">        {<span class="stringliteral">&quot;foo&quot;</span>, MappingEnum::foo},</div>
<div class="line">        {<span class="stringliteral">&quot;bar&quot;</span>, MappingEnum::bar},</div>
<div class="line">        {<span class="stringliteral">&quot;red&quot;</span>, MappingEnum::red},</div>
<div class="line">        {<span class="stringliteral">&quot;yellow&quot;</span>, MappingEnum::yellow},</div>
<div class="line">        {<span class="stringliteral">&quot;green&quot;</span>, MappingEnum::green}};</div>
<div class="line">    <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program.&quot;</span>, <span class="stringliteral">&quot;This goes after the options.&quot;</span>);</div>
<div class="line">    <a class="code" href="classargs_1_1MapFlag.html">args::MapFlag&lt;std::string, MappingEnum&gt;</a> dmf(parser, <span class="stringliteral">&quot;DMF&quot;</span>, <span class="stringliteral">&quot;Maps string to an enum&quot;</span>, {<span class="stringliteral">&quot;dmf&quot;</span>}, map);</div>
<div class="line">    <a class="code" href="classargs_1_1MapFlag.html">args::MapFlag&lt;std::string, MappingEnum&gt;</a> mf(parser, <span class="stringliteral">&quot;MF&quot;</span>, <span class="stringliteral">&quot;Maps string to an enum&quot;</span>, {<span class="stringliteral">&quot;mf&quot;</span>}, map);</div>
<div class="line">    <a class="code" href="classargs_1_1MapFlag.html">args::MapFlag&lt;std::string, MappingEnum, ToLowerReader&gt;</a> cimf(parser, <span class="stringliteral">&quot;CIMF&quot;</span>, <span class="stringliteral">&quot;Maps string to an enum case-insensitively&quot;</span>, {<span class="stringliteral">&quot;cimf&quot;</span>}, map);</div>
<div class="line">    <a class="code" href="classargs_1_1MapFlagList.html">args::MapFlagList&lt;std::string, MappingEnum&gt;</a> mfl(parser, <span class="stringliteral">&quot;MFL&quot;</span>, <span class="stringliteral">&quot;Maps string to an enum list&quot;</span>, {<span class="stringliteral">&quot;mfl&quot;</span>}, map);</div>
<div class="line">    <a class="code" href="classargs_1_1MapPositional.html">args::MapPositional&lt;std::string, MappingEnum&gt;</a> mp(parser, <span class="stringliteral">&quot;MP&quot;</span>, <span class="stringliteral">&quot;Maps string to an enum&quot;</span>, map);</div>
<div class="line">    <a class="code" href="classargs_1_1MapPositionalList.html">args::MapPositionalList&lt;std::string, MappingEnum&gt;</a> mpl(parser, <span class="stringliteral">&quot;MPL&quot;</span>, <span class="stringliteral">&quot;Maps string to an enum list&quot;</span>, map);</div>
<div class="line">    parser.ParseArgs(std::vector&lt;std::string&gt;{<span class="stringliteral">&quot;--mf=red&quot;</span>, <span class="stringliteral">&quot;--cimf=YeLLoW&quot;</span>, <span class="stringliteral">&quot;--mfl=bar&quot;</span>, <span class="stringliteral">&quot;foo&quot;</span>, <span class="stringliteral">&quot;--mfl=green&quot;</span>, <span class="stringliteral">&quot;red&quot;</span>, <span class="stringliteral">&quot;--mfl&quot;</span>, <span class="stringliteral">&quot;bar&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>});</div>
<div class="line">    REQUIRE_FALSE(dmf);</div>
<div class="line">    REQUIRE(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(dmf) == MappingEnum::def);</div>
<div class="line">    REQUIRE(mf);</div>
<div class="line">    REQUIRE(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(mf) == MappingEnum::red);</div>
<div class="line">    REQUIRE(cimf);</div>
<div class="line">    REQUIRE(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(cimf) == MappingEnum::yellow);</div>
<div class="line">    REQUIRE(mfl);</div>
<div class="line">    REQUIRE((<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(mfl) == std::vector&lt;MappingEnum&gt;{MappingEnum::bar, MappingEnum::green, MappingEnum::bar}));</div>
<div class="line">    REQUIRE(mp);</div>
<div class="line">    REQUIRE((<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(mp) == MappingEnum::foo));</div>
<div class="line">    REQUIRE(mpl);</div>
<div class="line">    REQUIRE((<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(mpl) == std::vector&lt;MappingEnum&gt;{MappingEnum::red, MappingEnum::def}));</div>
<div class="line">    REQUIRE_THROWS_AS(parser.ParseArgs(std::vector&lt;std::string&gt;{<span class="stringliteral">&quot;--mf=YeLLoW&quot;</span>}), <a class="code" href="classargs_1_1MapError.html">args::MapError</a>);</div>
<div class="line">}</div>
<div class="ttc" id="aclassargs_1_1MapError_html"><div class="ttname"><a href="classargs_1_1MapError.html">args::MapError</a></div><div class="ttdoc">Errors in map lookups.</div><div class="ttdef"><b>Definition:</b> args.hxx:307</div></div>
<div class="ttc" id="aclassargs_1_1MapFlagList_html"><div class="ttname"><a href="classargs_1_1MapFlagList.html">args::MapFlagList</a></div><div class="ttdoc">A mapping value flag list class.</div><div class="ttdef"><b>Definition:</b> args.hxx:3792</div></div>
<div class="ttc" id="aclassargs_1_1MapFlag_html"><div class="ttname"><a href="classargs_1_1MapFlag.html">args::MapFlag</a></div><div class="ttdoc">A mapping value flag class.</div><div class="ttdef"><b>Definition:</b> args.hxx:3703</div></div>
<div class="ttc" id="aclassargs_1_1MapPositionalList_html"><div class="ttname"><a href="classargs_1_1MapPositionalList.html">args::MapPositionalList</a></div><div class="ttdoc">A positional argument mapping list class.</div><div class="ttdef"><b>Definition:</b> args.hxx:4184</div></div>
<div class="ttc" id="aclassargs_1_1MapPositional_html"><div class="ttname"><a href="classargs_1_1MapPositional.html">args::MapPositional</a></div><div class="ttdoc">A positional argument mapping class.</div><div class="ttdef"><b>Definition:</b> args.hxx:4102</div></div>
<div class="ttc" id="astructToLowerReader_html"><div class="ttname"><a href="structToLowerReader.html">ToLowerReader</a></div><div class="ttdef"><b>Definition:</b> test.cxx:463</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md24"></a>
How fast is it?</h1>
<p>This should not really be a question you ask when you are looking for an argument-parsing library, but every test I've done shows args as being about 65% faster than TCLAP and 220% faster than boost::program_options.</p>
<p>The simplest benchmark I threw together is the following one, which parses the command line <code>-i 7 -c a 2.7 --char b 8.4 -c c 8.8 --char d</code> with a parser that parses -i as an int, -c as a list of chars, and the positional parameters as a list of doubles (the command line was originally much more complex, but TCLAP's limitations made me trim it down so I could use a common command line across all libraries. I also have to copy in the arguments list with every run, because TCLAP permutes its argument list as it runs (and comparison would have been unfair without comparing all about equally), but that surprisingly didn't affect much. Also tested is pulling the arguments out, but that was fast compared to parsing, as would be expected.</p>
<h3><a class="anchor" id="autotoc_md25"></a>
The run:</h3>
<div class="fragment"><div class="line">% g++ -obench bench.cxx -O2 -std=c++11 -lboost_program_options</div>
<div class="line">% ./bench</div>
<div class="line">args seconds to run: 0.895472</div>
<div class="line">tclap seconds to run: 1.45001</div>
<div class="line">boost::program_options seconds to run: 1.98972</div>
<div class="line">%</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md26"></a>
The benchmark:</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#undef NDEBUG</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="args_8hxx.html">args.hxx</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;tclap/CmdLine.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;boost/program_options.hpp&gt;</span></div>
<div class="line"><span class="keyword">namespace </span>po = boost::program_options;</div>
<div class="line"><span class="keyword">using namespace </span>std::chrono;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">bool</span> doubleequals(<span class="keyword">const</span> <span class="keywordtype">double</span> a, <span class="keyword">const</span> <span class="keywordtype">double</span> b)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> delta = 0.0001;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> diff = a - b;</div>
<div class="line">    <span class="keywordflow">return</span> diff &lt; delta &amp;&amp; diff &gt; -delta;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> std::vector&lt;std::string&gt; carguments({<span class="stringliteral">&quot;-i&quot;</span>, <span class="stringliteral">&quot;7&quot;</span>, <span class="stringliteral">&quot;-c&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;2.7&quot;</span>, <span class="stringliteral">&quot;--char&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;8.4&quot;</span>, <span class="stringliteral">&quot;-c&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;8.8&quot;</span>, <span class="stringliteral">&quot;--char&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>});</div>
<div class="line">    <span class="keyword">const</span> std::vector&lt;std::string&gt; pcarguments({<span class="stringliteral">&quot;progname&quot;</span>, <span class="stringliteral">&quot;-i&quot;</span>, <span class="stringliteral">&quot;7&quot;</span>, <span class="stringliteral">&quot;-c&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;2.7&quot;</span>, <span class="stringliteral">&quot;--char&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;8.4&quot;</span>, <span class="stringliteral">&quot;-c&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;8.8&quot;</span>, <span class="stringliteral">&quot;--char&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>});</div>
<div class="line">    <span class="comment">// args</span></div>
<div class="line">    {</div>
<div class="line">        high_resolution_clock::time_point start = high_resolution_clock::now();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; 100000; ++x)</div>
<div class="line">        {</div>
<div class="line">            std::vector&lt;std::string&gt; arguments(carguments);</div>
<div class="line">            <a class="code" href="classargs_1_1ArgumentParser.html">args::ArgumentParser</a> parser(<span class="stringliteral">&quot;This is a test program.&quot;</span>, <span class="stringliteral">&quot;This goes after the options.&quot;</span>);</div>
<div class="line">            <a class="code" href="classargs_1_1ValueFlag.html">args::ValueFlag&lt;int&gt;</a> integer(parser, <span class="stringliteral">&quot;integer&quot;</span>, <span class="stringliteral">&quot;The integer flag&quot;</span>, {<span class="charliteral">&#39;i&#39;</span>, <span class="stringliteral">&quot;int&quot;</span>});</div>
<div class="line">            <a class="code" href="classargs_1_1ValueFlagList.html">args::ValueFlagList&lt;char&gt;</a> characters(parser, <span class="stringliteral">&quot;characters&quot;</span>, <span class="stringliteral">&quot;The character flag&quot;</span>, {<span class="charliteral">&#39;c&#39;</span>, <span class="stringliteral">&quot;char&quot;</span>});</div>
<div class="line">            <a class="code" href="classargs_1_1PositionalList.html">args::PositionalList&lt;double&gt;</a> numbers(parser, <span class="stringliteral">&quot;numbers&quot;</span>, <span class="stringliteral">&quot;The numbers position list&quot;</span>);</div>
<div class="line">            parser.ParseArgs(arguments);</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">int</span> i = <a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(integer);</div>
<div class="line">            <span class="keyword">const</span> std::vector&lt;char&gt; c(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(characters));</div>
<div class="line">            <span class="keyword">const</span> std::vector&lt;double&gt; n(<a class="code" href="namespaceargs.html#adbff5cc15191b28f5a1aa74344172ba1">args::get</a>(numbers));</div>
<div class="line">            assert(i == 7);</div>
<div class="line">            assert(c[0] == <span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line">            assert(c[1] == <span class="charliteral">&#39;b&#39;</span>);</div>
<div class="line">            assert(c[2] == <span class="charliteral">&#39;c&#39;</span>);</div>
<div class="line">            assert(c[3] == <span class="charliteral">&#39;d&#39;</span>);</div>
<div class="line">            assert(doubleequals(n[0], 2.7));</div>
<div class="line">            assert(doubleequals(n[1], 8.4));</div>
<div class="line">            assert(doubleequals(n[2], 8.8));</div>
<div class="line">        }</div>
<div class="line">        high_resolution_clock::duration runtime = high_resolution_clock::now() - start;</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;args seconds to run: &quot;</span> &lt;&lt; duration_cast&lt;duration&lt;double&gt;&gt;(runtime).count() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// tclap</span></div>
<div class="line">    {</div>
<div class="line">        high_resolution_clock::time_point start = high_resolution_clock::now();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; 100000; ++x)</div>
<div class="line">        {</div>
<div class="line">            std::vector&lt;std::string&gt; arguments(pcarguments);</div>
<div class="line">            TCLAP::CmdLine cmd(<span class="stringliteral">&quot;Command description message&quot;</span>, <span class="charliteral">&#39; &#39;</span>, <span class="stringliteral">&quot;0.9&quot;</span>);</div>
<div class="line">            TCLAP::ValueArg&lt;int&gt; integer(<span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;int&quot;</span>, <span class="stringliteral">&quot;The integer flag&quot;</span>, <span class="keyword">false</span>, 0, <span class="stringliteral">&quot;integer&quot;</span>, cmd);</div>
<div class="line">            TCLAP::MultiArg&lt;char&gt; characters(<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;char&quot;</span>, <span class="stringliteral">&quot;The character flag&quot;</span>, <span class="keyword">false</span>, <span class="stringliteral">&quot;characters&quot;</span>, cmd);</div>
<div class="line">            TCLAP::UnlabeledMultiArg&lt;double&gt; numbers(<span class="stringliteral">&quot;numbers&quot;</span>, <span class="stringliteral">&quot;The numbers position list&quot;</span>, <span class="keyword">false</span>, <span class="stringliteral">&quot;foo&quot;</span>, cmd, <span class="keyword">false</span>);</div>
<div class="line">            cmd.parse(arguments);</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">int</span> i = integer.getValue();</div>
<div class="line">            <span class="keyword">const</span> std::vector&lt;char&gt; c(characters.getValue());</div>
<div class="line">            <span class="keyword">const</span> std::vector&lt;double&gt; n(numbers.getValue());</div>
<div class="line">            assert(i == 7);</div>
<div class="line">            assert(c[0] == <span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line">            assert(c[1] == <span class="charliteral">&#39;b&#39;</span>);</div>
<div class="line">            assert(c[2] == <span class="charliteral">&#39;c&#39;</span>);</div>
<div class="line">            assert(c[3] == <span class="charliteral">&#39;d&#39;</span>);</div>
<div class="line">            assert(doubleequals(n[0], 2.7));</div>
<div class="line">            assert(doubleequals(n[1], 8.4));</div>
<div class="line">            assert(doubleequals(n[2], 8.8));</div>
<div class="line">        }</div>
<div class="line">        high_resolution_clock::duration runtime = high_resolution_clock::now() - start;</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;tclap seconds to run: &quot;</span> &lt;&lt; duration_cast&lt;duration&lt;double&gt;&gt;(runtime).count() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// boost::program_options</span></div>
<div class="line">    {</div>
<div class="line">        high_resolution_clock::time_point start = high_resolution_clock::now();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = 0; x &lt; 100000; ++x)</div>
<div class="line">        {</div>
<div class="line">            std::vector&lt;std::string&gt; arguments(carguments);</div>
<div class="line">            po::options_description desc(<span class="stringliteral">&quot;This is a test program.&quot;</span>);</div>
<div class="line">            desc.add_options()</div>
<div class="line">                (<span class="stringliteral">&quot;int,i&quot;</span>, po::value&lt;int&gt;(), <span class="stringliteral">&quot;The integer flag&quot;</span>)</div>
<div class="line">                (<span class="stringliteral">&quot;char,c&quot;</span>, po::value&lt;std::vector&lt;char&gt;&gt;(), <span class="stringliteral">&quot;The character flag&quot;</span>)</div>
<div class="line">                (<span class="stringliteral">&quot;numbers&quot;</span>, po::value&lt;std::vector&lt;double&gt;&gt;(), <span class="stringliteral">&quot;The numbers flag&quot;</span>);</div>
<div class="line">            po::positional_options_description p;</div>
<div class="line">            p.add(<span class="stringliteral">&quot;numbers&quot;</span>, -1);</div>
<div class="line">            po::variables_map vm;</div>
<div class="line">            po::store(po::command_line_parser(carguments).options(desc).positional(p).run(), vm);</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">int</span> i = vm[<span class="stringliteral">&quot;int&quot;</span>].as&lt;<span class="keywordtype">int</span>&gt;();</div>
<div class="line">            <span class="keyword">const</span> std::vector&lt;char&gt; c(vm[<span class="stringliteral">&quot;char&quot;</span>].as&lt;std::vector&lt;char&gt;&gt;());</div>
<div class="line">            <span class="keyword">const</span> std::vector&lt;double&gt; n(vm[<span class="stringliteral">&quot;numbers&quot;</span>].as&lt;std::vector&lt;double&gt;&gt;());</div>
<div class="line">            assert(i == 7);</div>
<div class="line">            assert(c[0] == <span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line">            assert(c[1] == <span class="charliteral">&#39;b&#39;</span>);</div>
<div class="line">            assert(c[2] == <span class="charliteral">&#39;c&#39;</span>);</div>
<div class="line">            assert(c[3] == <span class="charliteral">&#39;d&#39;</span>);</div>
<div class="line">            assert(doubleequals(n[0], 2.7));</div>
<div class="line">            assert(doubleequals(n[1], 8.4));</div>
<div class="line">            assert(doubleequals(n[2], 8.8));</div>
<div class="line">        }</div>
<div class="line">        high_resolution_clock::duration runtime = high_resolution_clock::now() - start;</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;boost::program_options seconds to run: &quot;</span> &lt;&lt; duration_cast&lt;duration&lt;double&gt;&gt;(runtime).count() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>So, on top of being more flexible, smaller, and easier to read, it is faster than the most common alternatives. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
